{% extends 'base1.html' %}
{% block content %}
            <div class="bg-gray-100">
                <main class="mx-auto max-w-2xl py-8 px-4 sm:py-8 sm:px-6 lg:px-8">
                    <div class="space-y-6">
                        <section>
                             <form class="new_memorial"
                                enctype="multipart/form-data" method="post">
                                {{ form.csrf_token }}
                                    
                                <div class="shadow sm:overflow-hidden sm:rounded-md">
                                    <div class="bg-white py-6 px-4 sm:p-6">
                                        <div class="flex items-center justify-between mb-4 mt-4 text-center">
                                            <h2
                                                class="m-auto text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">
                                                추모공간 만들기</h2>
                                        </div>

                                        <div class="mt-6">
                                            <h2 class="text-lg font-medium leading-6 text-gray-900">기본정보</h2>
                                            <p class="mt-1 text-sm text-gray-500">추모 대상의 기본적인 정보를 입력해주세요</p>
                                        </div>

                                        <div class="grid grid-cols-4 gap-4" data-controller="common">
                                            <div class="lg:col-span-2 space-y-6 col-span-4">
                                                <div class="mt-6 grid grid-cols-12 gap-6">
                                                    <div class="col-span-12">
                                                        <label for="first-name"
                                                            class="block text-sm font-medium text-gray-700">이름</label>

                                                        <input
                                                            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-rememberyou-600 focus:outline-none focus:ring-rememberyou-600 sm:text-sm required"
                                                            required="required" type="text" name="name"
                                                            id="name" value="{{ form.name.data or '' }}">
                                                    </div>

                                                    <div class="col-span-12">
                                                        <label for="last-name"
                                                            class="block text-sm font-medium text-gray-700">생년월일</label>
                                                        <input
                                                            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-rememberyou-600 focus:outline-none focus:ring-rememberyou-600 sm:text-sm required"
                                                            required="required" type="date" name="birth"
                                                            id="birth" value="{{ form.birth.data or '' }}">
                                                    </div>

                                                    <div class="col-span-12">
                                                        <label for="company"
                                                            class="block text-sm font-medium text-gray-700">기일</label>
                                                        <input
                                                            class="death_date mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-rememberyou-600 focus:outline-none focus:ring-rememberyou-600 sm:text-sm"
                                                            id="death" type="date" name="death" value="{{ form.death.data or '' }}">
                                                    </div>
                                                    
                                                </div>
                                            </div>

                                            <div class="mt-6 flex-grow lg:ml-6 lg:col-span-2 col-span-4">
                                                <p class="text-sm font-medium text-gray-700 mb-3" aria-hidden="true">메인
                                                    사진</p>
                                                <div class="ml-5 relative overflow-hidden rounded-full"
                                                    data-controller="image">
                                                    <!--                    <img class="relative h-40 w-40 rounded-full" src="https://images.unsplash.com/photo-1517365830460-955ce3ccd263?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=4&w=320&h=320&q=80" alt="">-->
                                                    <img class="relative h-40 w-40 rounded-full object-cover"
                                                        id="main-image"
                                                        src="https://www.rememberyou.kr/assets/placeholder-avatar-ab0e377d3d8c390895b33e1f65f69e6c7f2f605504a8d6cbf342cb4f036c4fe8.png">
                                                    <label for="desktop-user-photo"
                                                        class="rounded-full absolute inset-0 flex h-40 w-40 items-center justify-center bg-black bg-opacity-75 text-sm font-medium text-white opacity-0 hover:opacity-100">
                                                        <span>변경</span>
                                                        <span class="sr-only"> user photo</span>
                                                        <input
                                                            class="absolute inset-0 h-full w-full cursor-pointer rounded-md border-gray-300 opacity-0"
                                                
                                                            type="file" name="profile_data"
                                                            id="profile_data" value="{{ form.profile_data.data or '' }}"  >
                                                           
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                        <div class="space-y-6 bg-white py-6 px-4 sm:p-6">
                                        

                                            <div class="mt-6 mb-3">
                                                <h2 class="text-lg font-medium leading-6 text-gray-900">메인 메세지</h2>
                                                <p class="mt-1 text-sm text-gray-500">님의 추모공간에 오시는 분들께 전할 이야기를 적어 주세요.
                                                </p>

                                                <div class="grow-wrap">
                                                    <input type="text" id="content" name="content"  value="{{ form.content.data or '' }}"
                                                        class="mt-3 block h-full w-full rounded-md border-gray-300 shadow-sm focus:border-rememberyou-600 focus:ring-rememberyou-600 sm:text-sm text-gray-800"
                                                        row="5" style="min-height: 180px !important" placeholder="이 추모공간은 우리가 사랑했던 님을 위해 만들어졌습니다. 사랑하는 님을 위해, 그리고 그 가족들을 위해 따뜻한 위로와 추억을 나눠주세요. 감사합니다.">
                                                        
                                                </div>
                                            </div>

                                            <!-- <div class="pt-4">
                                                <label for="content"
                                                    class="block text-sm font-medium text-gray-600 mb-1">또는 템플릿을 이용해
                                                    보세요.</label>
                                                <select name="content" id="content"
                                                    class="block w-full rounded-md border-gray-300 shadow-sm focus:border-rememberyou-600 focus:ring-rememberyou-600 sm:text-sm">
                                                    <option value="메인 메세지 템플릿">메인 메세지 템플릿</option>
                                                    <option value="년 월 일 님이 향년 90세의 나이로 세상을 떠나게 되었습니다. 님은 OO에서 출생하여 OO 고등학교를 진학하고 OO에서 OO년간 근무하였습니다. 님은 주위 사람들을 항상 즐겁게 하였으며 그의 배려깊고 따뜻한 마음 덕분에 주위 사람들로부터 큰 사랑을 받아왔습니다. 은퇴 후에는 봉사활동에 전념하여 마지막까지 남을 위한 삶을 살다가신 분입니다. 그를 보내는 것이 너무 슬프지만 그가 이 세상에 가져온 빛은 영원할 것이라 믿습니다. 이 추모공간에 님과 함께 한 소중한 추억이나 이야기, 그리고 사진을 공유함으로써 님을 기리고자 합니다. 감사합니다.">
                                                        기본 메세지</option>
                                                    <option value="사랑하는 저의 배우자 님이 년 월 일 예기치 않게 세상을 떠나게 되었습니다. 그의 마지막 순간에 가족과 사랑하는 사람들이 함께 하였습니다. 그와 저는 대학교 시절 만나 인연을 이어나갔고 년에 결혼을 하였습니다. 그리고 눈에 넣어도 아프지 않을 자녀들을 함께 키웠습니다. 그는 마음이 따뜻한 사람이었고 모든 사람들에게 항상 친절을 베풀 줄 아는 그런 사람이었습니다. 그와 수 십년간 함께 한 추억은 잊을 수 없을 것입니다. 그의 선한 영향력이 이 세상을 더 나은 곳으로 만들었다고 믿습니다. 그와 함께한 추억과 기억을 이 추모공간을 통해 함께 기리고 싶습니다. 감사합니다.">
                                                        배우자를 위한 메세지</option>
                                                    <option value="사랑하는 나의 친구 이 향년 세의 이 년 월 일에 예기치 않게 세상을 떠나게 되었습니다. 그의 마지막 순간에는 사랑하는 가족과 친구들이 함께 하였기에 외롭지 않을 수 있었습니다. 은 제가 초등학교 때 만난 친구입니다. 어릴 때 부터 또래에 비해 성숙하고 배려있는 모습을 보여 친구들에게 인기가 많았고, 장난기도 많아 함께 놀때면 언제나 즐거웠습니다. 고등학교를 지나면서 서서히 연락이 멀어졌지만 사회 생활을 하며 다시 연락이 닿아 이렇게 연을 이어왔습니다. 그런 이 이렇게 갑자기 세상을 떠나게 되어 슬픔이 굉장히 큽니다. 하지만 이렇게 마지막 순간에 다시 연이 닿아 시간을 보낼 수 있었다는 것에 큰 의미를 두고 싶습니다. 은 예술쪽에서도 재능을 드러내는 친구였고 취미로 그림을 그려 친구들에게 나누어주기도 하였습니다. 이렇게 재능 많고 아름다운 제 친구가 떠나가 슬프지만 이 추모공간을 통해 그의 마지막을 더 아름답게 해주고 싶습니다. 과 함께 했던 추억과 기억들을 공유해주세요. 감사합니다.">
                                                        친구를 위한 메세지</option>
                                                    <option value="사랑하는 나의 어머니/아버지 님이 년 월 일 세상을 떠나게 되었습니다. 어머니/아버지가 저에게 주신 사랑은 그 무엇과도 바꿀 수 없는 큰 사랑이었습니다. 어린 시절, 동해 바다로 다 함께 놀러가 즐겁게 물놀이를 하던 기억, 캠핑을 가서 벌에 물린 저를 안고 헐레벌떡 병원으로 가시던 모습 등 제 유년시절은 아름다운 추억으로 가득합니다. 제가 잘못한 일이 있으면 엄하게 꾸짖으시다가도 마지막에는 항상 사랑한다는 말로 꽉 안아주시곤 하셨지요. 그 무조건적인 사랑은 영원히 잊지 못할 것입니다. 어머니/아버지는 항상 주변 사람들과 약자에게 친절을 베풀 줄 아는 존경스러운 분이셨습니다. 이 추모 공간을 통해 저희 어머니/아버지에 대한 추억과 기억을 더 나누고 싶습니다. 하늘에서도 항상 저를 지켜보고 계실거라 믿어요. 사랑합니다. 그리고 감사합니다.">
                                                        어머니/아버지을 위한 메세지</option>
                                                    <option value="저의 사랑하는 어머니/아버지 님이 년 월 일 평화롭게 세상을 떠났습니다. 어머니/아버지는 에서 년에 태어났습니다. 수학에 재능을 보인 어머니/아버지는 대학교 졸업 후 수학 선생님으로 교편을 잡으셨고 30년간 교직생활을 하셨습니다. 항상 따뜻한 마음으로 제자들을 대하신 어머니/아버지께 수 많은 제자들이 매년 찾아오곤 하였습니다. 어머니/아버지는 항상 가족을 먼저 생각하고 자식들에게 따뜻한 헌신적인 어머니/아버지였습니다. 저희들과 최대한 많은 시간을 보내려 하셨고 그 덕분에 저희의 유년시절은 재미있는 기억들로 가득 차 있습니다. 저희 모두 성인이 되고 나서 함께 한 미국 여행은 정말 잊을 수 없을 것입니다. 이 추모 공간을 통해 저희 어머니/아버지인 님에 대해 더 알아갈 수 있는 기회가 되었으면 합니다. 님과 함께한 소중한 기억과 추억, 그리고 사진들을 공유해 주세요. 감사합니다.">
                                                        어머니/아버지을 위한 메세지2</option>
                                                    <option value="사랑하는 나의 강아지 이/가 무지개 다리를 건너게 되었습니다. 은/는 제가 년에 입양한 세상에서 가장 예쁘고 착한 강아지였습니다. 년이라는 세월을 함께 보내며 제가 기쁘나 슬프나 항상 제 곁을 지켜준 소중한 동생이었습니다. 항상 제가 외출했다가 돌아오면 저를 10년만에 본 것처럼 반겨주곤 하였는데 이제는 의 빈 자리가 너무나 크게 느껴질 것 같습니다. 이/가 너무 그립고 못해준 것만 생각나 가슴이 미어집니다. 하지만 언젠가 무지개 다리 너머 을/를 다시 만날 날이 있을 것이라 믿고 있기에 힘을 내려 합니다. 의 사진 또는 동영상이 있으면 꼭 공유해주세요. 사랑해 내 동생 , 다시 만날 때까지 건강하게 있어!">
                                                        반려동물을 위한 메세지</option>
                                                    <option value="존경하는 대학교  교수님이 년 월 일 별세하셨습니다.  교수님은 제가 대학교 신입생이던 해에 철학 수업을 통해 처음 뵙게 된 교수님이셨습니다. 제가 진로로 많은 고민을 하고 있을 때  교수님은 언제나 따뜻한 목소리로 상담을 해주시고 제 고민을 들어주신 분입니다. 졸업 후에도 매년 찾아뵙곤 하였는데 이렇게 소식을 전하게 되어 슬픔이 큽니다. 존경하는  교수님을 기리고자 이 추모공간을 개설하게 되었습니다. 저 말고도 수 많은 학생분들이  교수님을 그리워 할 것이라고 생각합니다. 함께  교수님에 대한 추억과 이야기를 공유하며 교수님의 마지막을 아름답게 장식해 드리고 싶습니다. 감사합니다.">
                                                        은사님을 위한 메세지</option>
                                                    <option value="사랑하는 나의 할머니/할아버지 님이 년 월 일, 사랑하는 가족들에게 둘러쌓여 세상을 떠나게 되었습니다. 할머니/할아버지는 바쁜 어머니/아버지을 대신해 저를 키워주신 저에게는 부모님같은 분이셨습니다. 항상 따뜻한 미소와 포옹으로 저를 사랑해주셨기에 저의 유년 시절은 아름다운 기억으로만 가득 차 있습니다. 유년시절, 낮에는 할머니/할아버지의 손을 잡고 동네를 거닐다가 밤에는 할머니/할아버지가 해주시는 이야기를 들으며 밤에 잠이 들었던 기억이 납니다. 그때 할머니/할아버지의 포근한 품은 영원히 잊지 못할 것 같습니다. 저희들을 키우시느라 정작 할머니/할아버지가 좋아하셨던 일들을 못하신 것 같아 너무 죄송스럽고 또 감사합니다. 작년에 함께 갔던 제주도 여행에서 찍은 사진들을 보면 그때의 행복했던 생각이 나 마음이 따뜻해집니다. 저에게 주신 위대한 사랑, 평생 기억하며 살아가겠습니다. 할머니/할아버지, 진심으로 사랑합니다.">
                                                        조부모님을 위한 메세지</option>
                                                </select>
                                            </div> -->
                                        </div>
                                        
                                    
                                    <div class="bg-gray-50 px-4 py-3 text-right sm:px-6">
                                        <input type="submit" name="commit" value="완료" class="btn-primary"
                                            >
                                            <!-- <a href="{{ url_for('question.massage') }}" class="btn-primary"
                                            data-disable-with="다음">다음</a> -->
                                    </div>
                                </div>
                            </form>
                        </section>
                    </div>
                </main>
            </div>



            <script type="text/javascript" charset="utf-8">
                document.addEventListener('turbo:load', function () {

                    $('input[type=date]').click(function (event) {
                        var id = event.target.id
                        document.getElementById(id).showPicker();


                    });


                })
            </script>
        </main>
    </div>
</body>
<script src="{{ url_for('static', filename='assets/js/jquery-3.6.1.min.js')}}"></script>
<script>
    $(function () {
        $(document).mousedown(function (e) {
            if ($("#togglemenu").is(":visible")) {
                $("#togglemenu").each(function () {
                    var l_position = $(this).offset();
                    l_position.right = parseInt(l_position.left) + ($(this).width());
                    l_position.bottom = parseInt(l_position.top) + parseInt($(this).height());

                    if ((l_position.left <= e.pageX && e.pageX <= l_position.right)
                        && (l_position.top <= e.pageY && e.pageY <= l_position.bottom)) {
                    } else {
                        $("#togglemenu").hide();
                    }
                });
            }
        });

        $("#user-menu-button").click(function () {
            $("#togglemenu").show();
        });
    });

    $(function () {
        $(document).mousedown(function (e) {
            if ($("#mobiletoggle").is(":visible")) {
                $("#mobiletoggle").each(function () {
                    var l_position = $(this).offset();
                    l_position.right = parseInt(l_position.left) + ($(this).width());
                    l_position.bottom = parseInt(l_position.top) + parseInt($(this).height());

                    if ((l_position.left <= e.pageX && e.pageX <= l_position.right)
                        && (l_position.top <= e.pageY && e.pageY <= l_position.bottom)) {
                    } else {
                        $("#mobiletoggle").hide();
                    }
                });
            }
        });

        $("#mobilemenu").click(function () {
            $("#mobiletoggle").show();
        });
    });

    $(function () {
        $('#change_password').click(function () {
            var imChecked = $(this).prop("checked");

            console.log(imChecked);

            if (imChecked == true) {
                $('#user_current_password').attr('disabled', false);
                $('#user_password').attr('disabled', false);
                $('#user_password_confirmation').attr('disabled', false);

                $('#user_current_password').css('background', 'white');
                $('#user_password').css('background', 'white');
                $('#user_password_confirmation').css('background', 'white');
            }
            else {
                $('#user_current_password').attr('disabled', true);
                $('#user_password').attr('disabled', true);
                $('#user_password_confirmation').attr('disabled', true);
            }

            //if(imChecked){
            //  $('#user_password').prop('disabled',imChecked);
            //} else {
            //  $('#user_password').prop('disabled',imChecked);
            //}
        });
    });
</script>
<script type="text/javascript" charset="utf-8">
    document.addEventListener('turbo:load', function () {

        $('input[type=date]').click(function(event){
            var id = event.target.id
            document.getElementById(id).showPicker();
        });
    })
</script>
{% endblock %}
</html>